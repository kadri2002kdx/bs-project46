<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª | EcoPlant DZ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2e7d32;
            --primary-dark: #1b5e20;
            --primary-light: #4caf50;
            --secondary: #8bc34a;
            --accent: #ffc107;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            padding: 15px 0;
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .logo i {
            font-size: 1.5em;
            color: var(--accent);
        }
        
        .nav-links {
            display: flex;
            gap: 28px;
        }
        
        .nav-links a {
            font-weight: 600;
            position: relative;
            padding: 8px 0;
            color: var(--dark);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
            transition: var(--transition);
        }
        
        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }
        
        .nav-links a:hover,
        .nav-links a.active {
            color: var(--primary);
        }
        
        .nav-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .notification-icon, .messages-icon {
            position: relative;
            color: var(--dark);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .notification-icon:hover, .messages-icon:hover {
            color: var(--primary);
        }
        
        .badge {
            position: absolute;
            top: -8px;
            left: -8px;
            background: var(--accent);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .user-menu {
            position: relative;
        }
        
        .user-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 10px 0;
            min-width: 200px;
            display: none;
            z-index: 1000;
        }
        
        .dropdown-menu.show {
            display: block;
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            color: var(--dark);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .dropdown-item:hover {
            background: #f8f9fa;
            color: var(--primary);
        }
        
        .settings-container {
            max-width: 800px;
            margin: 100px auto 30px;
            padding: 20px;
        }
        
        .settings-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            text-align: center;
        }
        
        .settings-header h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .settings-header p {
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .banner-icon {
            position: absolute;
            top: -20px;
            left: -20px;
            font-size: 8rem;
            opacity: 0.1;
            transform: rotate(-15deg);
        }
        
        .settings-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 25px;
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-light);
            color: var(--primary-dark);
        }
        
        .form-group {
            margin-bottom: 20px;
            text-align: right;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.2);
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        .avatar-upload {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .avatar-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }
        
        .avatar-preview img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .avatar-actions {
            flex: 1;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            gap: 8px;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: rgba(46, 125, 50, 0.1);
        }
        
        .danger-zone {
            background: #fff5f5;
            border: 1px solid #fed7d7;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .danger-zone h3 {
            color: #c53030;
            margin-bottom: 15px;
        }
        
        .danger-zone p {
            color: #718096;
            margin-bottom: 15px;
        }
        
        .password-strength {
            height: 5px;
            margin-top: 8px;
            border-radius: 3px;
            transition: var(--transition);
        }
        
        .password-strength.weak {
            background-color: #f44336;
            width: 33%;
        }
        
        .password-strength.medium {
            background-color: #ff9800;
            width: 66%;
        }
        
        .password-strength.strong {
            background-color: #4caf50;
            width: 100%;
        }
        
        .password-feedback {
            font-size: 0.8rem;
            margin-top: 5px;
            color: var(--gray);
        }
        
        .footer {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-top: 50px;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--accent);
        }
        
        .notification-toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 3000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .notification-toast.show {
            opacity: 1;
        }
        
        .notification-toast.success {
            background: var(--primary);
        }
        
        .notification-toast.error {
            background: #d32f2f;
        }
        
        .notification-toast.info {
            background: #1976d2;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            position: relative;
            text-align: right;
        }
        
        .close {
            position: absolute;
            left: 20px;
            top: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #aaa;
        }
        
        .close:hover {
            color: black;
        }
        
        .verification-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .verification-status.verified {
            background-color: rgba(76, 175, 80, 0.1);
            color: #2e7d32;
        }
        
        .verification-status.not-verified {
            background-color: rgba(255, 152, 0, 0.1);
            color: #ef6c00;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .avatar-upload {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-seedling"></i>
                <span>EcoPlant DZ</span>
            </a>
            
            <div class="nav-links">
                <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="dashboard.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
                <a href="questions.html">Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</a>
                <a href="messages.html">Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</a>
                <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
                <a href="contact.html">Ø§Ù„ØªÙˆØ§ØµÙ„ Ùˆ Ø§Ù„Ø¯Ø¹Ù…</a>
            </div>
            
            <div class="nav-actions">
                <div class="notification-icon" onclick="window.location.href='notifications.html'">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notificationCount">0</span>
                </div>
                
                <div class="messages-icon" onclick="window.location.href='messages.html'">
                    <i class="fas fa-envelope"></i>
                    <span class="badge" id="messageCount">0</span>
                </div>
                
                <div class="user-menu">
                    <button class="user-btn">
                        <div class="user-avatar" id="navAvatar">Ù…</div>
                        <span id="navUserName">Ù…Ø³ØªØ®Ø¯Ù…</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="dropdown-menu" id="userDropdown">
                        <a href="dashboard.html" class="dropdown-item">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                        </a>
                        <a href="profile.html" class="dropdown-item">
                            <i class="fas fa-user"></i>
                            <span>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>
                        </a>
                        <a href="settings.html" class="dropdown-item">
                            <i class="fas fa-cog"></i>
                            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                        </a>
                        <a href="#" class="dropdown-item" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
    <div class="settings-container">
        <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
        <div class="settings-header">
            <i class="fas fa-cog banner-icon"></i>
            <h1>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h1>
            <p>Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</p>
        </div>
        
        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
        <div class="settings-content">
            <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
            <div class="profile-section">
                <h2 class="section-title">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
                
                <div class="avatar-upload">
                    <div class="avatar-preview" id="avatarPreview">
                        <div class="loading-spinner"></div>
                    </div>
                    <div class="avatar-actions">
                        <input type="file" id="avatarInput" accept="image/*" style="display: none;">
                        <button class="btn btn-outline" onclick="document.getElementById('avatarInput').click()">
                            <i class="fas fa-upload"></i> ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©
                        </button>
                        <p style="font-size: 0.8rem; color: var(--gray); margin-top: 8px;">PNG, JPG, GIF Ø¨Ø­Ø¯ Ø£Ù‚ØµÙ‰ 5MB</p>
                    </div>
                </div>
                
                <form id="profileForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„</label>
                            <input type="text" class="form-control" id="firstName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±</label>
                            <input type="text" class="form-control" id="lastName" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" class="form-control" id="email" disabled>
                        <small style="color: var(--gray);">Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</small>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="role">Ø§Ù„Ø¯ÙˆØ±</label>
                            <select class="form-control" id="role" required>
                                <option value="">Ø§Ø®ØªØ± Ø¯ÙˆØ±Ùƒ...</option>
                                <option value="student">Ø·Ø§Ù„Ø¨</option>
                                <option value="teacher">Ø£Ø³ØªØ§Ø°</option>
                                <option value="researcher">Ø¨Ø§Ø­Ø«</option>
                                <option value="farmer">ÙÙ„Ø§Ø­</option>
                                <option value="investor">Ù…Ø³ØªØ«Ù…Ø±</option>
                                <option value="other">Ø¢Ø®Ø±</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="state">Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
                            <select class="form-control" id="state" required>
                                <option value="">Ø§Ø®ØªØ± ÙˆÙ„Ø§ÙŠØªÙƒ...</option>
                                <option value="adrar">Ø£Ø¯Ø±Ø§Ø±</option>
                                <option value="chlef">Ø§Ù„Ø´Ù„Ù</option>
                                <option value="laghouat">Ø§Ù„Ø£ØºÙˆØ§Ø·</option>
                                <option value="oum_el_bouaghi">Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ</option>
                                <option value="batna">Ø¨Ø§ØªÙ†Ø©</option>
                                <option value="bejaia">Ø¨Ø¬Ø§ÙŠØ©</option>
                                <option value="biskra">Ø¨Ø³ÙƒØ±Ø©</option>
                                <option value="bechar">Ø¨Ø´Ø§Ø±</option>
                                <option value="blida">Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©</option>
                                <option value="bouira">Ø§Ù„Ø¨ÙˆÙŠØ±Ø©</option>
                                <option value="tamanrasset">ØªÙ…Ù†Ø±Ø§Ø³Øª</option>
                                <option value="tebessa">ØªØ¨Ø³Ø©</option>
                                <option value="tlemcen">ØªÙ„Ù…Ø³Ø§Ù†</option>
                                <option value="tiaret">ØªÙŠØ§Ø±Øª</option>
                                <option value="tizi_ouzou">ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ</option>
                                <option value="algiers">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                                <option value="djelfa">Ø§Ù„Ø¬Ù„ÙØ©</option>
                                <option value="jijel">Ø¬ÙŠØ¬Ù„</option>
                                <option value="setif">Ø³Ø·ÙŠÙ</option>
                                <option value="saida">Ø³Ø¹ÙŠØ¯Ø©</option>
                                <option value="skikda">Ø³ÙƒÙŠÙƒØ¯Ø©</option>
                                <option value="sidi_bel_abbes">Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³</option>
                                <option value="annaba">Ø¹Ù†Ø§Ø¨Ø©</option>
                                <option value="guelma">Ù‚Ø§Ù„Ù…Ø©</option>
                                <option value="constantine">Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                                <option value="medea">Ø§Ù„Ù…Ø¯ÙŠØ©</option>
                                <option value="mostaganem">Ù…Ø³ØªØºØ§Ù†Ù…</option>
                                <option value="msila">Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option>
                                <option value="mascara">Ù…Ø¹Ø³ÙƒØ±</option>
                                <option value="ouargla">ÙˆØ±Ù‚Ù„Ø©</option>
                                <option value="oran">ÙˆÙ‡Ø±Ø§Ù†</option>
                                <option value="el_bayadh">Ø§Ù„Ø¨ÙŠØ¶</option>
                                <option value="illizi">Ø¥ÙŠÙ„ÙŠØ²ÙŠ</option>
                                <option value="bordj_bou_arreridj">Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬</option>
                                <option value="boumerdes">Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</option>
                                <option value="el_tarf">Ø§Ù„Ø·Ø§Ø±Ù</option>
                                <option value="tindouf">ØªÙ†Ø¯ÙˆÙ</option>
                                <option value="tissemsilt">ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª</option>
                                <option value="el_oued">Ø§Ù„ÙˆØ§Ø¯ÙŠ</option>
                                <option value="khenchela">Ø®Ù†Ø´Ù„Ø©</option>
                                <option value="souk_ahras">Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³</option>
                                <option value="tipaza">ØªÙŠØ¨Ø§Ø²Ø©</option>
                                <option value="mila">Ù…ÙŠÙ„Ø©</option>
                                <option value="ain_defla">Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰</option>
                                <option value="naama">Ø§Ù„Ù†Ø¹Ø§Ù…Ø©</option>
                                <option value="ain_temouchent">Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª</option>
                                <option value="ghardaia">ØºØ±Ø¯Ø§ÙŠØ©</option>
                                <option value="relizane">ØºÙ„ÙŠØ²Ø§Ù†</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="university">Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©/Ø§Ù„Ù…Ø¤Ø³Ø³Ø©</label>
                        <select class="form-control" id="university">
                            <option value="">Ø§Ø®ØªØ± Ø¬Ø§Ù…Ø¹ØªÙƒ/Ù…Ø¤Ø³Ø³ØªÙƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)...</option>
                            <option value="ensa_algiers">Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§ Ù„Ù„ÙÙ„Ø§Ø­Ø©ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                            <option value="usthb">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ù‡ÙˆØ§Ø±ÙŠ Ø¨ÙˆÙ…Ø¯ÙŠÙ†ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                            <option value="univ_algiers3">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± 3 Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø³Ù„Ø·Ø§Ù† Ø´ÙŠØ¨ÙˆØ·ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
                            <option value="univ_blida1">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¨Ù„ÙŠØ¯Ø© 1 Ø³Ø¹Ø¯ Ø¯Ø­Ù„Ø¨ØŒ Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©</option>
                            <option value="univ_bejaia">Ø¬Ø§Ù…Ø¹Ø© Ø¨Ø¬Ø§ÙŠØ© Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ù…ÙŠØ±Ø©ØŒ Ø¨Ø¬Ø§ÙŠØ©</option>
                            <option value="univ_batna1">Ø¬Ø§Ù…Ø¹Ø© Ø¨Ø§ØªÙ†Ø© 1 Ø§Ù„Ø­Ø§Ø¬ Ù„Ø®Ø¶Ø±ØŒ Ø¨Ø§ØªÙ†Ø©</option>
                            <option value="univ_batna2">Ø¬Ø§Ù…Ø¹Ø© Ø¨Ø§ØªÙ†Ø© 2 Ù…ØµØ·ÙÙ‰ Ø¨Ù† Ø¨ÙˆÙ„Ø¹ÙŠØ¯ØŒ Ø¨Ø§ØªÙ†Ø©</option>
                            <option value="univ_constantine1">Ø¬Ø§Ù…Ø¹Ø© Ù‚Ø³Ù†Ø·ÙŠÙ†Ø© 1 Ù…Ù†ØªÙˆØ±ÙŠØŒ Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                            <option value="univ_constantine2">Ø¬Ø§Ù…Ø¹Ø© Ù‚Ø³Ù†Ø·ÙŠÙ†Ø© 2 Ø¹Ø¨Ø¯ Ø§Ù„Ø­Ù…ÙŠØ¯ Ù…Ù‡Ø±ÙŠØŒ Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                            <option value="univ_constantine3">Ø¬Ø§Ù…Ø¹Ø© Ù‚Ø³Ù†Ø·ÙŠÙ†Ø© 3 ØµØ§Ù„Ø­ Ø¨ÙˆØ¨Ù†ÙŠØ¯Ø±ØŒ Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
                            <option value="univ_oran1">Ø¬Ø§Ù…Ø¹Ø© ÙˆÙ‡Ø±Ø§Ù† 1 Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø¨Ù„Ø©ØŒ ÙˆÙ‡Ø±Ø§Ù†</option>
                            <option value="univ_oran2">Ø¬Ø§Ù…Ø¹Ø© ÙˆÙ‡Ø±Ø§Ù† 2 Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø£Ø­Ù…Ø¯ØŒ ÙˆÙ‡Ø±Ø§Ù†</option>
                            <option value="univ_oran_ustmbo">Ø¬Ø§Ù…Ø¹Ø© Sciences ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ù…Ø­Ù…Ø¯ Ø¨ÙˆØ¶ÙŠØ§ÙØŒ ÙˆÙ‡Ø±Ø§Ù†</option>
                            <option value="univ_setif1">Ø¬Ø§Ù…Ø¹Ø© Ø³Ø·ÙŠÙ 1 ÙØ±Ø­Ø§Øª Ø¹Ø¨Ø§Ø³ØŒ Ø³Ø·ÙŠÙ</option>
                            <option value="univ_setif2">Ø¬Ø§Ù…Ø¹Ø© Ø³Ø·ÙŠÙ 2 Ù…Ø­Ù…Ø¯ Ù„Ù…ÙŠÙ† Ø¯Ø¨Ø§ØºÙŠÙ†ØŒ Ø³Ø·ÙŠÙ</option>
                            <option value="univ_jijel">Ø¬Ø§Ù…Ø¹Ø© Ø¬ÙŠØ¬Ù„ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ¯ÙŠÙ‚ Ø¨Ù† ÙŠØ­ÙŠÙ‰ØŒ Ø¬ÙŠØ¬Ù„</option>
                            <option value="univ_tlemcen">Ø¬Ø§Ù…Ø¹Ø© ØªÙ„Ù…Ø³Ø§Ù† Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø¨Ù„Ù‚Ø§ÙŠØ¯ØŒ ØªÙ„Ù…Ø³Ø§Ù†</option>
                            <option value="univ_tizi_ouzou">Ø¬Ø§Ù…Ø¹Ø© ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ Ù…ÙˆÙ„ÙˆØ¯ Ù…Ø¹Ù…Ø±ÙŠØŒ ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ</option>
                            <option value="univ_biskra">Ø¬Ø§Ù…Ø¹Ø© Ø¨Ø³ÙƒØ±Ø© Ù…Ø­Ù…Ø¯ Ø®ÙŠØ¶Ø±ØŒ Ø¨Ø³ÙƒØ±Ø©</option>
                            <option value="univ_laghouat">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£ØºÙˆØ§Ø· Ø¹Ù…Ø§Ø± Ø«Ù„ÙŠØ¬ÙŠØŒ Ø§Ù„Ø£ØºÙˆØ§Ø·</option>
                            <option value="univ_mostaganem">Ø¬Ø§Ù…Ø¹Ø© Ù…Ø³ØªØºØ§Ù†Ù… Ø¹Ø¨Ø¯ Ø§Ù„Ø­Ù…ÙŠØ¯ Ø¨Ù† Ø¨Ø§Ø¯ÙŠØ³ØŒ Ù…Ø³ØªØºØ§Ù†Ù…</option>
                            <option value="univ_msila">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…Ø³ÙŠÙ„Ø© Ù…Ø­Ù…Ø¯ Ø¨ÙˆØ¶ÙŠØ§ÙØŒ Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option>
                            <option value="univ_medea">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…Ø¯ÙŠØ© ÙŠØ­ÙŠ ÙØ§Ø±Ø³ØŒ Ø§Ù„Ù…Ø¯ÙŠØ©</option>
                            <option value="univ_souk_ahras">Ø¬Ø§Ù…Ø¹Ø© Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø±ÙŠÙ Ù…Ø³Ø§Ø¹Ø¯ÙŠØ©ØŒ Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³</option>
                            <option value="univ_tebessa">Ø¬Ø§Ù…Ø¹Ø© ØªØ¨Ø³Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„ØªØ¨Ø³ÙŠØŒ ØªØ¨Ø³Ø©</option>
                            <option value="univ_ouargla">Ø¬Ø§Ù…Ø¹Ø© ÙˆØ±Ù‚Ù„Ø© Ù‚Ø§ØµØ¯ÙŠ Ù…Ø±Ø¨Ø§Ø­ØŒ ÙˆØ±Ù‚Ù„Ø©</option>
                            <option value="univ_ghardaia">Ø¬Ø§Ù…Ø¹Ø© ØºØ±Ø¯Ø§ÙŠØ©ØŒ ØºØ±Ø¯Ø§ÙŠØ©</option>
                            <option value="univ_el_oued">Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø­Ù…Ø© Ù„Ø®Ø¶Ø±ØŒ Ø§Ù„ÙˆØ§Ø¯ÙŠ</option>
                            <option value="univ_adrar">Ø¬Ø§Ù…Ø¹Ø© Ø£Ø¯Ø±Ø§Ø± Ø£Ø­Ù…Ø¯ Ø¯Ø±Ø§ÙŠØ©ØŒ Ø£Ø¯Ø±Ø§Ø±</option>
                            <option value="univ_bechar">Ø¬Ø§Ù…Ø¹Ø© Ø¨Ø´Ø§Ø± Ø§Ù„Ø·Ø§Ù‡Ø±ÙŠ Ù…Ø­Ù…Ø¯ØŒ Ø¨Ø´Ø§Ø±</option>
                            <option value="other">Ù…Ø¤Ø³Ø³Ø© Ø£Ø®Ø±Ù‰</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="specialization">Ø§Ù„ØªØ®ØµØµ</label>
                        <select class="form-control" id="specialization">
                            <option value="">Ø§Ø®ØªØ± ØªØ®ØµØµÙƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)...</option>
                            <optgroup label="Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© ÙˆØ§Ù„Ø­ÙŠØ§Ø©">
                                <option value="biology_general">Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø¹Ø§Ù…Ø©</option>
                                <option value="cellular_biology">Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø®Ù„ÙˆÙŠØ© ÙˆØ¬Ø²ÙŠØ¦ÙŠØ©</option>
                                <option value="microbiology">Ø¹Ù„Ù… Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©</option>
                                <option value="zoology">Ø¹Ù„Ù… Ø§Ù„Ø­ÙŠÙˆØ§Ù†</option>
                                <option value="botany">Ø¹Ù„Ù… Ø§Ù„Ù†Ø¨Ø§Øª</option>
                                <option value="ecology">Ø¹Ù„Ù… Ø§Ù„Ø¨ÙŠØ¦Ø©</option>
                                <option value="environmental_biology">Ø§Ù„Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© ÙˆØ§Ù„Ø¥ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠØ§</option>
                                <option value="biochemistry">Ø§Ù„Ø¨ÙŠÙˆÙƒÙŠÙ…ÙŠØ§Ø¡</option>
                                <option value="genetics">Ø§Ù„ÙˆØ±Ø§Ø«Ø©</option>
                                <option value="physiology">Ø¹Ù„Ù… ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</option>
                                <option value="food_science">Ø¹Ù„ÙˆÙ… Ø§Ù„Ø£ØºØ°ÙŠØ© ÙˆØ§Ù„ØªØºØ°ÙŠØ©</option>
                                <option value="biotechnology">Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø­ÙŠÙˆÙŠØ©</option>
                            </optgroup>
                            <optgroup label="Ø§Ù„ÙÙ„Ø§Ø­Ø© (Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©)">
                                <option value="agronomy">Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©</option>
                                <option value="agricultural_economics">Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„ÙÙ„Ø§Ø­ÙŠ ÙˆØ§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø±ÙŠÙÙŠØ©</option>
                                <option value="soil_science">Ø¹Ù„ÙˆÙ… Ø§Ù„ØªØ±Ø¨Ø©</option>
                                <option value="plant_protection">ÙˆÙ‚Ø§ÙŠØ© Ø§Ù„Ù†Ø¨Ø§Øª</option>
                                <option value="plant_production">Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ù†Ø¨Ø§ØªÙŠ</option>
                                <option value="animal_production">Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø­ÙŠÙˆØ§Ù†ÙŠ</option>
                                <option value="forestry">Ø§Ù„ØºØ§Ø¨Ø§Øª</option>
                                <option value="water_soil_science">Ø¹Ù„ÙˆÙ… Ø§Ù„Ù…ÙŠØ§Ù‡ ÙˆØ§Ù„ØªØ±Ø¨Ø©</option>
                                <option value="agricultural_engineering">Ù‡Ù†Ø¯Ø³Ø© Ø²Ø±Ø§Ø¹ÙŠØ©</option>
                                <option value="natural_resources_management">ØªØ³ÙŠÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„ÙÙ„Ø§Ø­ÙŠØ©</option>
                            </optgroup>
                            <optgroup label="Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù…Ø­ÙŠØ·">
                                <option value="environmental_science">Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¨ÙŠØ¦Ø©</option>
                                <option value="ecosystem_management">ØªØ³ÙŠÙŠØ± Ø§Ù„Ù†Ø¸Ù… Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©</option>
                                <option value="environmental_rehabilitation">Ø§Ù„Ø§Ø³ØªØµÙ„Ø§Ø­ Ø§Ù„Ø¨ÙŠØ¦ÙŠ ÙˆÙ…ÙƒØ§ÙØ­Ø© Ø§Ù„ØªÙ„ÙˆØ«</option>
                                <option value="renewable_energy">Ø§Ù„Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ¬Ø¯Ø¯Ø© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</option>
                                <option value="ecology_biodiversity">Ø§Ù„Ø¥ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠØ§ ÙˆØ§Ù„ØªÙ†ÙˆØ¹ Ø§Ù„Ø¨ÙŠÙˆÙ„ÙˆØ¬ÙŠ</option>
                                <option value="marine_science">Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¨Ø­Ø± ÙˆØ§Ù„Ù…Ø­ÙŠØ·Ø§Øª</option>
                                <option value="earth_science">Ø¹Ù„ÙˆÙ… Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©</option>
                            </optgroup>
                            <option value="other">ØªØ®ØµØµ Ø¢Ø®Ø±</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="bio">Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</label>
                        <textarea class="form-control" id="bio" rows="4" placeholder="Ø£Ø®Ø¨Ø±Ù†Ø§ Ø§Ù„Ù…Ø²ÙŠØ¯ Ø¹Ù† Ù†ÙØ³Ùƒ..."></textarea>
                    </div>
                    
                    <div class="form-group" style="text-align: left;">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                        </button>
                    </div>
                </form>
            </div>
            
            <hr style="margin: 40px 0; border: none; border-top: 1px solid #eee;">
            
            <!-- Ù‚Ø³Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ -->
            <div class="account-section">
                <h2 class="section-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</h2>
                
                <div class="verification-status" id="verificationStatus">
                    <i class="fas fa-exclamation-circle"></i>
                    <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ...</span>
                </div>
                
                <form id="passwordForm">
                    <div class="form-group">
                        <label for="currentPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
                        <input type="password" class="form-control" id="currentPassword" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="newPassword">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                        <input type="password" class="form-control" id="newPassword" required>
                        <div class="password-strength" id="passwordStrength"></div>
                        <div class="password-feedback" id="passwordFeedback"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmNewPassword">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                        <input type="password" class="form-control" id="confirmNewPassword" required>
                    </div>
                    
                    <div class="form-group" style="text-align: left;">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-key"></i> ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                        </button>
                    </div>
                </form>
                
                <div class="danger-zone">
                    <h3>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø·Ø±</h3>
                    <p>Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ù†Ù‡Ø§Ø¦ÙŠ ÙˆØ¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ù† Ù…Ù†ØµØªÙ†Ø§. Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.</p>
                    <button class="btn btn-secondary" onclick="openDeleteAccountModal()">
                        <i class="fas fa-trash-alt"></i> Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„ØªØ°ÙŠÙŠÙ„ -->
    <footer class="footer">
        <div class="footer-content">
            <p>Â© 2025 EcoPlant DZ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
            <div class="footer-links">
                <a href="#" onclick="openModal('privacyModal')">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                <a href="#" onclick="openModal('termsModal')">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a>
            </div>
        </div>
    </footer>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ -->
    <div id="deleteAccountModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('deleteAccountModal')">&times;</span>
            <h2>Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨</h2>
            <p>Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø­Ø³Ø§Ø¨ÙƒØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.</p>
            <p>Ø³ÙŠØ¤Ø¯ÙŠ Ù‡Ø°Ø§ Ø¥Ù„Ù‰ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù… Ù…Ù† Ù…Ù†ØµØªÙ†Ø§.</p>
            <div class="form-group">
                <label for="deleteConfirm">Ø§ÙƒØªØ¨ "Ø­Ø°Ù" Ù„Ù„ØªØ£ÙƒÙŠØ¯</label>
                <input type="text" class="form-control" id="deleteConfirm" required>
            </div>
            <div class="form-group" style="display: flex; gap: 10px; justify-content: flex-end;">
                <button type="button" class="btn btn-secondary" onclick="closeModal('deleteAccountModal')">Ø¥Ù„ØºØ§Ø¡</button>
                <button type="button" class="btn btn-primary" onclick="deleteAccount()" id="deleteAccountBtn">Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨</button>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('privacyModal')">&times;</span>
            <h2>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
            <p>Ù†Ø­Ù† Ù†Ø­ØªØ±Ù… Ø®ØµÙˆØµÙŠØªÙƒ ÙˆÙ†Ù„ØªØ²Ù… Ø¨Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©. Ù„Ø§ Ù†Ø´Ø§Ø±Ùƒ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù…Ø¹ Ø£Ø·Ø±Ø§Ù Ø«Ø§Ù„Ø«Ø© Ø¯ÙˆÙ† Ù…ÙˆØ§ÙÙ‚ØªÙƒ.</p>
            <p>ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙŠ Ù†Ø¬Ù…Ø¹Ù‡Ø§ ÙÙ‚Ø· Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ Ø¹Ù„Ù‰ Ù…Ù†ØµØªÙ†Ø§ ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªØ·Ù„Ø¨Ù‡Ø§.</p>
            <p>Ù„Ø¯ÙŠÙƒ Ø§Ù„Ø­Ù‚ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØªØµØ­ÙŠØ­Ù‡Ø§ Ø£Ùˆ Ø­Ø°ÙÙ‡Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ù…Ù† Ø®Ù„Ø§Ù„ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª.</p>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('termsModal')">&times;</span>
            <h2>Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h2>
            <p>Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù†ØµØ© EcoPlant DZØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ø¹Ù…ÙˆÙ„ Ø¨Ù‡Ø§.</p>
            <p>ÙŠØ­Ø¸Ø± Ù†Ø´Ø± Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰ ØºÙŠØ± Ù„Ø§Ø¦Ù‚ Ø£Ùˆ Ù…Ø³ÙŠØ¡ Ø£Ùˆ ÙŠÙ†ØªÙ‡Ùƒ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©.</p>
            <p>Ù†Ø­Ù† Ù†Ø­ØªÙØ¸ Ø¨Ø§Ù„Ø­Ù‚ ÙÙŠ Ø­Ø°Ù Ø£ÙŠ Ø­Ø³Ø§Ø¨ Ø£Ùˆ Ù…Ø­ØªÙˆÙ‰ ÙŠØ®Ø±Ù‚ Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ· Ø¯ÙˆÙ† Ø¥Ø´Ø¹Ø§Ø± Ù…Ø³Ø¨Ù‚.</p>
        </div>
    </div>
    
    <!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
    <div id="notificationToast" class="notification-toast"></div>
    
    <!-- Ù…ÙƒØªØ¨Ø§Øª Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import {
    getAuth,
    onAuthStateChanged,
    updateEmail,
    updatePassword,
    updateProfile,
    deleteUser,
    signOut,
    sendEmailVerification,
    EmailAuthProvider,
    reauthenticateWithCredential
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  import {
    getDatabase,
    ref,
    set,
    get,
    child,
    update,
    remove
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

  // ğŸ”¹ Cloudinary Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  const CLOUDINARY_CLOUD = "dq5cgwwjt";
  const CLOUDINARY_PRESET = "unsigned_preset";
  const CLOUDINARY_UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD}/image/upload`;

  async function uploadToCloudinary(file) {
    const fd = new FormData();
    fd.append("file", file);
    fd.append("upload_preset", CLOUDINARY_PRESET);
    const res = await fetch(CLOUDINARY_UPLOAD_URL, { method: "POST", body: fd });
    const data = await res.json();
    if (!res.ok) throw new Error(data.error?.message || "ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©");
    return data;
  }

  // ğŸ”¹ Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyCVELN-Jca7q3xtS0uWk2ZrNnlqXJzsKpg",
    authDomain: "ecoplant-dz-148bf.firebaseapp.com",
    databaseURL: "https://ecoplant-dz-148bf-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "ecoplant-dz-148bf",
    storageBucket: "ecoplant-dz-148bf.appspot.com",
    messagingSenderId: "233372376001",
    appId: "1:233372376001:web:2c261f4bf161a65f726d40",
    measurementId: "G-4PJZMLMKJE"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getDatabase(app);

  let currentUser = null;
  let newAvatarFile = null;

  document.addEventListener("DOMContentLoaded", () => {
    onAuthStateChanged(auth, async (user) => {
      if (!user) {
        localStorage.clear();
        window.location.href = "login.html";
        return;
      }
      currentUser = user;

      try {
        const snapshot = await get(child(ref(db), "users/" + user.uid));
        const userData = snapshot.val() || {};
        localStorage.setItem("user", JSON.stringify(userData));
        updateUserInterface(userData, user);
        setupFormHandlers();
        checkEmailVerification(user);
        loadNotifications(user.uid);
      } catch (err) {
        console.error("âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:", err);
        showNotification("ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", "error");
      }
    });
  });

  // âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„
  function checkEmailVerification(user) {
    const verificationStatus = document.getElementById("verificationStatus");
    if (!verificationStatus) return;

    if (user.emailVerified) {
      verificationStatus.textContent = "ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ âœ”";
    } else {
      verificationStatus.innerHTML = `
        Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¨Ø¹Ø¯
        <button id="sendVerificationBtn">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù‚Ù‚</button>
      `;
      document.getElementById("sendVerificationBtn")?.addEventListener("click", async () => {
        try {
          await sendEmailVerification(user);
          showNotification("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù‚Ù‚", "success");
        } catch (e) {
          showNotification("ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù‚Ù‚", "error");
        }
      });
    }
  }

  // âœ… ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  function updateUserInterface(userData, user) {
    safeSetText("navUserName", `${userData.firstName || ""} ${userData.lastName || ""}`.trim() || "Ù…Ø³ØªØ®Ø¯Ù…");
    safeSetValue("firstName", userData.firstName || "");
    safeSetValue("lastName", userData.lastName || "");
    safeSetValue("email", user.email || "");
    safeSetValue("bio", userData.bio || "");

    const avatarUrl = user.photoURL || userData.photoURL;
    const avatarPreview = document.getElementById("avatarPreview");
    const navAvatar = document.getElementById("navAvatar");

    if (avatarPreview) {
      avatarPreview.innerHTML = avatarUrl ? `<img src="${avatarUrl}" alt="avatar">` : "ğŸ‘¤";
    }
    if (navAvatar) {
      navAvatar.innerHTML = avatarUrl ? `<img src="${avatarUrl}" alt="avatar">` : "ğŸ‘¤";
    }

    document.getElementById("avatarInput")?.addEventListener("change", handleAvatarUpload);
  }

  // âœ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
  async function handleAvatarUpload(e) {
    const file = e.target.files[0];
    if (!file) return;
    if (!file.type.match("image.*")) return showNotification("ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©", "error");
    if (file.size > 5 * 1024 * 1024) return showNotification("Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± (5MB Ø­Ø¯ Ø£Ù‚ØµÙ‰)", "error");
    newAvatarFile = file;
    const reader = new FileReader();
    reader.onload = (ev) => {
      document.getElementById("avatarPreview").innerHTML = `<img src="${ev.target.result}" alt="preview">`;
    };
    reader.readAsDataURL(file);
  }

  // âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
  async function handleProfileUpdate(e) {
    e.preventDefault();
    if (!currentUser) return;
    const updatedData = {
      firstName: document.getElementById("firstName").value,
      lastName: document.getElementById("lastName").value,
      bio: document.getElementById("bio").value,
      updatedAt: Date.now()
    };

    try {
      let photoURL = currentUser.photoURL || "";
      if (newAvatarFile) {
        const uploaded = await uploadToCloudinary(newAvatarFile);
        photoURL = uploaded.secure_url;
        newAvatarFile = null;
      }
      await updateProfile(currentUser, {
        displayName: `${updatedData.firstName} ${updatedData.lastName}`,
        photoURL
      });
      updatedData.photoURL = photoURL;
      await update(ref(db, "users/" + currentUser.uid), updatedData);
      localStorage.setItem("user", JSON.stringify(updatedData));
      showNotification("âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ", "success");
    } catch (err) {
      console.error("âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«:", err);
      showNotification("ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ", "error");
    }
  }

  // âœ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
  async function handlePasswordChange(e) {
    e.preventDefault();
    if (!currentUser) return;
    const currentPass = document.getElementById("currentPassword").value;
    const newPass = document.getElementById("newPassword").value;
    const confirmPass = document.getElementById("confirmNewPassword").value;

    if (newPass !== confirmPass) return showNotification("ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†", "error");
    try {
      const cred = EmailAuthProvider.credential(currentUser.email, currentPass);
      await reauthenticateWithCredential(currentUser, cred);
      await updatePassword(currentUser, newPass);
      showNotification("âœ… ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", "success");
    } catch (err) {
      console.error("âŒ Ø®Ø·Ø£:", err);
      showNotification("ÙØ´Ù„ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", "error");
    }
  }

  // âœ… Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
  async function deleteAccount() {
    if (!currentUser) return;
    try {
      await remove(ref(db, "users/" + currentUser.uid));
      await deleteUser(currentUser);
      localStorage.clear();
      window.location.href = "register.html";
    } catch (err) {
      console.error("âŒ ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨:", err);
      if (err.code === "auth/requires-recent-login") {
        showNotification("Ø£Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨", "error");
      }
    }
  }

  // âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
  async function loadNotifications(userId) {
    try {
      const snap = await get(child(ref(db), "notifications/" + userId + "/unread"));
      const count = snap.exists() ? Object.keys(snap.val()).length : 0;
      safeSetText("notificationCount", count > 0 ? count : "");
    } catch (err) {
      console.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª:", err);
    }
  }

  // âœ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
  function setupFormHandlers() {
    document.getElementById("profileForm")?.addEventListener("submit", handleProfileUpdate);
    document.getElementById("passwordForm")?.addEventListener("submit", handlePasswordChange);
    document.getElementById("deleteAccountBtn")?.addEventListener("click", deleteAccount);
    document.getElementById("logoutBtn")?.addEventListener("click", async () => {
      await signOut(auth);
      localStorage.clear();
      window.location.href = "login.html";
    });
  }

  // âœ… Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
  function safeSetText(id, text) {
    const el = document.getElementById(id);
    if (el) el.textContent = text;
  }
  function safeSetValue(id, value) {
    const el = document.getElementById(id);
    if (el) el.value = value;
  }

  function showNotification(message, type = "info") {
    const toast = document.getElementById("notificationToast");
    if (!toast) return;
    toast.textContent = message;
    toast.className = "notification-toast " + type;
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 3000);
  }
</script>

</body>
</html>